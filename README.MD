# üèéÔ∏è PecasAntunes API ‚Äî Gest√£o de Autope√ßas.

API REST profissional desenvolvida em .NET 8 para controle, organiza√ß√£o e gest√£o de autope√ßas.<br>
Projeto pensado para portf√≥lio, testes t√©cnicos e demonstra√ß√£o pr√°tica de arquitetura limpa + deploy em nuvem.

## üöÄ Teste Agora

üëâ API em Produ√ß√£o (Render):
https://pecasantunes-api.onrender.com

üëâ Swagger (Documenta√ß√£o interativa):
https://pecasantunes-api.onrender.com/swagger

üëâ HealthCheck:
https://pecasantunes-api.onrender.com/health

## ‚úÖ Como testar a API em 1 minuto

#### 1. Abra o Swagger
#### 2. Clique em POST /api/v1/AutoPecas
#### 3. Use este exemplo:

```JSON
{
  "nome": "Filtro de √ìleo",
  "codigo": "FO123",
  "codigoInterno": "INT-001",
  "marca": "Bosch",
  "descricao": "Filtro de √≥leo para motores 1.6",
  "preco": 49.90,
  "quantidadeEstoque": 10
}
```

#### 4. Clique em Execute.
#### 5. Depois use o GET /api/v1/AutoPecas para validar que salvou no banco real.

## üñ•Ô∏è Testar com Front-end.
O front consome a API p√∫blica em produ√ß√£o.

## ‚ñ∂Ô∏è Como testar o front localmente
#### 1. Suba o front (Live Server / Vite / etc)
#### 2. Garanta que o front est√° apontando para:

```javaScript
const API_URL = "https://pecasantunes-api.onrender.com/api/v1/AutoPecas";
```
#### 3. Teste:
 - Tela de listagem de pe√ßas
 - Tela de cadastro de pe√ßa

üìå Resultado esperado:
 - Cadastro cria pe√ßa no banco real (Neon)
 - Lista mostra os dados da API em produ√ß√£o

## üèóÔ∏è Estrutura e Arquitetura
O sistema utiliza Clean Architecture para garantir desacoplamento entre regra de neg√≥cio e infraestrutura.

```mermaid

graph TD
    subgraph "Interface e Persist√™ncia"
        API[PecasAntunes.API]
        INFRA[PecasAntunes.Infrastructure]
    end

    subgraph "N√∫cleo da Aplica√ß√£o"
        APP[PecasAntunes.Application]
        DOMAIN[PecasAntunes.Domain]
    end

    API --> APP
    APP --> DOMAIN
    INFRA --> DOMAIN
```

üß† Stack Tecnol√≥gica
 - .NET 8
 - Entity Framework Core
 - PostgreSQL (Neon ‚Äì banco em nuvem gratuito)
 - Render (Deploy da API)
 - Swagger (Documenta√ß√£o da API)
 - Docker (build e deploy da API no Render)


## üö¶ Endpoints Principais (API)
| M√©todo | Endpoint | Descri√ß√£o |
| :--- | :--- | :--- |
| `POST` | `/api/v1/AutoPecas` | Cadastra uma nova pe√ßa com valida√ß√£o de dom√≠nio. |
| `GET` | `/api/v1/AutoPecas` | Lista todas as pe√ßas cadastradas. |
| `GET` | `/api/v1/AutoPecas/{id}` | Busca por ID. |
| `PUT` | `/api/v1/AutoPecas/{id}` | Atualiza uma pe√ßa. |
| `DELETE` | `/api/v1/AutoPecas/{id}` | Remove uma pe√ßa. |
| `GET` | `/health` | HealthCheck da API. |

## üì¶ Rodar o Projeto Localmente.

‚ö†Ô∏è Produ√ß√£o usa PostgreSQL (Neon).<br>
Local voc√© pode usar PostgreSQL local ou SQL Server via Docker (modo alternativo de estudo).

‚ñ∂Ô∏è Modo Produ√ß√£o (usando PostgreSQL / Neon)

#### 1. Configure no `appsettings.Development.json:`

```json
"ConnectionStrings": {
  "DefaultConnection": "Host=SEU_HOST;Database=SEU_DB;Username=SEU_USER;Password=SUA_SENHA;SSL Mode=Require;Trust Server Certificate=true"
}
```

#### 2. Aplicar migrations:

```powershell
dotnet ef database update --project src/PecasAntunes.Infrastructure --startup-project src/PecasAntunes.API
```

#### 3. Rodar API:

```powershell
dotnet run --project src/PecasAntunes.API
```

Acesse:            
http://localhost:5139/swagger

## üê≥ (Opcional) Infraestrutura de Dados com SQL Server (Modo Estudo )

‚ö†Ô∏è Este modo foi usado durante o desenvolvimento local.
Em produ√ß√£o, o projeto usa PostgreSQL (Neon).

```bash
docker pull mcr.microsoft.com/mssql/server:2022-latest
```

```bash
docker run -d ^
  --name sqlserver-pecasantunes ^
  -e "ACCEPT_EULA=Y" ^
  -e "MSSQL_SA_PASSWORD=SenhaForte@123" ^
  -p 1433:1433 ^
  mcr.microsoft.com/mssql/server:2022-latest
```

Connection String local:

```json 
"ConnectionStrings": {
  "DefaultConnection": "Server=localhost,1433;Database=PecasAntunesDb;User Id=sa;Password=SenhaForte@123;TrustServerCertificate=True;Encrypt=False;"
}
```

## üåê Deploy em Produ√ß√£o

 - API hospedada no Render (Free)

 - Banco PostgreSQL hospedado no Neon

 - Build via Dockerfile

 - Vari√°veis de ambiente configuradas no Render

## üë®‚Äçüíª Autor
Victor Antunes<br>Projeto de Portf√≥lio para back-end .NET


